アクション定義プロンプト仕様書

【目的】

このプロンプトは、構造化されたフォーム要素（JSON形式）と、自然文による【個人情報】および【本件（お問い合わせ内容）】をもとに、  
各フォーム要素に必要な入力・選択・送信アクションを定義することを目的とします。

【出力形式】

- 各フォーム要素（JSONオブジェクト）に、必要に応じて "action" キーを追加してください。
- "action" は以下の3項目で構成されます：

  - "control": 操作タイプ（"fill" / "click" / "send"）
  - "fill": 入力・選択する値（control が "fill" のときのみ）
  - "xpath": 対象要素を特定する複数のXPath（有力なものを先頭に）

- 出力は JSONの配列形式のプレーンテキストで返してください。
- コードブロック（```）は絶対に使用しないでください。

【アクションタイプ別ルール】

control: "fill"
- 対象要素: input, textarea, select
- 操作内容: ユーザーによる文字入力、または選択肢からの選択
- fill値のルール:
  - 日本語・英数字・記号すべてを全角に変換して入力すること
  - selectの場合は、指定された "options" 配列から最も適切な表示値を選び、全角で記入
- 例: 田中 太郎 → 田中太郎

control: "click"
- 対象要素: checkbox, radio
- 操作内容: 該当項目の選択（クリック）
- 特記: input要素が非表示の場合、label[for="..."] をクリックするXPathも使用可

control: "send"
- 対象要素: フォーム送信ボタン（例: type="submit" または「送信」などの文言を含む）
- 操作内容: フォーム全体の送信
- 備考:
  - 複数の送信ボタンが存在していても、1つの送信アクションだけでよい
  - 特別な優先順位は必要ない

【"action" を付与すべき条件】

以下に該当する要素に対して "action" を定義してください：

- 【個人情報】（氏名、メール、電話番号など）に対応する入力フィールド
- 【本件】（自由記述）に対応するテキストエリア
- 選択が必要な select 要素（options付き）
- チェックや選択が必要な checkbox / radio 要素
- フォーム送信ボタンと推定される要素（type="submit" / 「送信」などを含む）

【XPath 出力ルール】

- xpathは配列形式で複数出力する（["...", "...", ...]）
- 順序は「有力なもの → 補助的なもの」の順とする
- 以下のような種類のXPathを含めること（可能な範囲で）：

  1. id属性による直接指定  
     例: //*[@id="user_email"]

  2. name属性とtypeの併用  
     例: //input[@name="email" and @type="email"]

  3. placeholder属性の指定  
     例: //input[@placeholder="メールアドレス"]

  4. label要素とfor属性の連携  
     例: //label[text()="お名前"]/following-sibling::input

  5. 近接テキスト（nearby_text）  
     例: //div[contains(text(), "電話番号")]/following::input[1]

禁止事項:
- 絶対パス（例: /html/body/...）
- 数値インデックス依存のXPath（例: //div[3]/input[2]）

【select要素とoptionsの扱い】

- type="select" の場合、該当する "options" 配列が含まれています。
- fill には options の中から、最も適切な表示値を全角で入力してください。

例:
"options": [
  "選択してください",
  "お問い合わせ",
  "ご意見ご要望",
  "その他"
]

【出力フォーマット例】

[
  {
    "index": 1,
    "tag": "input",
    "type": "email",
    "action": {
      "control": "fill",
      "fill": "ｙａｍａｄａ．ｔａｒｏ＠ｅｘａｍｐｌｅ．ｃｏｍ",
      "xpath": [
        "//input[@id='email']",
        "//input[@name='email']",
        "//input[@placeholder='メールアドレス']"
      ]
    }
  }
]

【注意点まとめ】

- fill値は必ず全角（英数字・記号含む）
- XPathは意味の異なる複数パターンを含める
- select要素のfill値はoptionsから選ぶ
- actionキーは該当する要素にのみ付与する（不要な要素には付けない）

【最終目的】

このプロンプトは、構造化された【要素情報】に、自然文で与えられる【個人情報】【本件】をマッピングし、  
必要なアクション（入力・選択・送信）を適切に定義することを目的とします。

推論や省略は不要です。明示された情報に基づき、整形・構造化されたアクションを出力してください。